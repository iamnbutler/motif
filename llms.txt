# Gesso

> Gesso is an immediate-mode UI framework for Rust, focusing on 2D rendering with type-safe geometry primitives.

Gesso provides a foundation for building high-performance UI applications with idiomatic Rust patterns. It leverages glamour/glam for linear algebra with custom unit types for coordinate space safety.

## Core Concepts

- **Coordinate Spaces**: Type-safe distinction between LogicalPixels (DPI-independent) and DevicePixels (physical)
- **Layout Primitives**: Edges, Corners for padding/margin/border/radii
- **Glamour Integration**: Re-exports glamour's Unit trait for custom coordinate spaces
- **Painter's Stack**: Closure-scoped transform/clip for hierarchical drawing
- **Scene**: Typed primitive vectors in device pixels, GPU-ready

## Crates

- [gesso](crates/gesso/) - Main crate, re-exports gesso_core
- [gesso_core](crates/gesso_core/) - Core types including geometry module

## Documentation

- [Geometry Design](docs/plans/2026-02-11-geometry-module-design.md) - Architecture decisions for geometry module
- [Draw Abstraction Design](docs/plans/2026-02-11-draw-abstraction-design.md) - Scene, DrawContext, Renderer trait
- [Metal Renderer Design](docs/plans/2026-02-11-metal-renderer-design.md) - Metal GPU backend architecture

## Key Files

- [geometry.rs](crates/gesso_core/src/geometry.rs) - Core geometry primitives (Point, Size, Rect, Vector, Edges, Corners, Axis, ScaleFactor)
- [scene.rs](crates/gesso_core/src/scene.rs) - Scene and Quad primitive
- [context.rs](crates/gesso_core/src/context.rs) - DrawContext painter's stack
- [renderer.rs](crates/gesso_core/src/renderer.rs) - Renderer trait, DebugRenderer
- [metal/mod.rs](crates/gesso_core/src/metal/mod.rs) - Metal renderer (macOS): MetalRenderer, MetalSurface, QuadInstance
- [metal/shaders.metal](crates/gesso_core/src/metal/shaders.metal) - MSL shaders for instanced quad rendering
- [hello_window.rs](crates/gesso/examples/hello_window.rs) - Metal-rendered red quad example
- [scene_build.rs](crates/gesso/benches/scene_build.rs) - criterion CPU benchmarks (scene building, quad conversion)
- [quad_render.rs](crates/gesso/benches/quad_render.rs) - GPU frame timing benchmark (1k/10k/100k/1m quads)
